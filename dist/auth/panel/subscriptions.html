<!doctype html>
<html lang="ja">
  <head>
    <!--meta-->
    <title>サブスクリプションの管理 - 雷のサイト</title>

    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="このページは、雷のサイト会員のみがアクセスできます。" />
    <link rel="canonical" href="https://raic.tech/" />

    <meta content="ログイン - 雷のサイト" property="og:title" />
    <meta content="このページは、雷のサイト会員のみがアクセスできます。" property="og:description" />
    <meta content="https://raic.tech" property="og:url" />
    <meta content="https://raic.tech/images/profile-image.png" property="og:image" />
    <meta content="#43B581" data-react-helmet="true" name="theme-color" />

    <!--Stylesheet-->
    <link rel="stylesheet" href="/css/index.css" />

    <!--favicon-->
    <link rel="icon" href="/images/profile-image.png" />

    <!--JavaScript-->

    <script src="/js/menu.js"></script>
  </head>

  <body style="display: none">
    <header></header>
    <br />

    <section class="columns p-4 m-0">
      <div class="submenu column is-4" id="settings-sidebar"></div>

      <div class="content">
        <h1>プレミアムを管理</h1>
        <p>プレミアムを購入したり、サブスクリプションを管理したりします。</p>
        <div class="app_payContainer">
          <h1>プレミアムを購入する</h1>
          <p>
            GitHub SponsorsまたはStripeで、プレミアム以上のランクを購入してください。<br />
            サブスクリプション(ランク)についての詳細は<a href="/category/infomation/ranks.html">こちら</a>をご覧ください。<br /><br />
  
            サブスクリプションを購入すると、<a href="/category/infomation/purchaser-tos.html">購入者の利用規約</a>に同意したことになります。
          </p>

          <h2>Stripeで購入する</h2>
          <form id="checkoutCreateForm" method="post" action="http://api.raic.tech/stripe/create-checkout-session">
            <div class="box">
              <h2>期間を選択</h2>
              <!-- Period -->
              <div>
                <input type="radio" checked id="selectPlan_monthly" name="selectPeriod" value="monthly" />
                <label for="selectPeriod_monthly">一か月</label>&nbsp;

                <input type="radio" id="selectPlan_yearly" name="selectPeriod" value="yearly" />
                <label for="selectPeriod_yearly">一年</label>
              </div>
              <br />

              <h2>プランを選択</h2>

              <!-- Select Plans -->
              <div>
                <input type="radio" checked id="selectPlan_P" name="selectPlan" value="premium" />
                <label for="selectPlan_P">プレミアム</label>&nbsp;

                <input type="radio" id="selectPlan_PP" name="selectPlan" value="premiumPlus" />
                <label for="selectPlan_PP">プレミアムプラス</label>&nbsp;

                <input type="radio" id="selectPlan_PPP" name="selectPlan" value="pro" />
                <label for="selectPlan_PPP">Pro</label>
              </div>
              <br />
              <!-- <select name="selectPlan" class="input">
              <option value="premium">プレミアム</option>
              <option value="premiumPlus">プレミアムプラス</option>
              <option value="pro">Pro</option>
            </select> -->

              <input class="button pay-buttons is-primary" type="submit" value="購入" />
            </div>
          </form>
          <!-- <button class="button" id="buy">buy</button>
        <script>
          document.getElementById("buy").addEventListener("click", () => {
            fetch("http://127.0.0.1:5656/create-checkout-session", {method: "POST", redirect: "follow"}).then((res) =>{
              window.open(res.url)
            })
          })
        </script> --><br>
        </div>

        <h1>サブスクリプションを管理</h1>

        <p>次のボタンをクリックして、Stripeカスタマーポータルを開きます。購入する際に入力したメールアドレスを入力してサインインしてください。</p>

        <a class="button is-link" target="_blank" href="https://billing.stripe.com/p/login/8wM3d63qXeic1WgfYY">Stripeでサブスクリプションを管理</a><br /><br />

        <article id="subscriptionStateContainer" class="is-hidden message is-success">
          <div class="message-header">
            <p id="subscriptionStateHeader"></p>
          </div>
          <div id="subscriptionStateBody" class="message-body has-text-left"></div>
        </article>
      </div>
    </section>

    <footer></footer>

    <script src="/js/index.js"></script>
    <script src="/js/loadSidebar.js" async defer></script>
    <script src="/js/panel-patreon.js"></script>
  </body>
</html>
